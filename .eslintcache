[{"/home/regis/Codes/java-projects/aws-image-upload/frontend/src/index.js":"1","/home/regis/Codes/java-projects/aws-image-upload/frontend/src/App.js":"2","/home/regis/Codes/java-projects/aws-image-upload/frontend/src/reportWebVitals.js":"3"},{"size":500,"mtime":1608924418731,"results":"4","hashOfConfig":"5"},{"size":1861,"mtime":1609289767458,"results":"6","hashOfConfig":"5"},{"size":362,"mtime":1608924418731,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"10"},"s1mj8f",{"filePath":"11","messages":"12","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"13"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"10"},"/home/regis/Codes/java-projects/aws-image-upload/frontend/src/index.js",[],["16","17"],"/home/regis/Codes/java-projects/aws-image-upload/frontend/src/App.js",["18"],"import React, { useState, useEffect, useCallback } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport { useDropzone } from 'react-dropzone';\n\nconst UserProfiles = () => {\n\n  const [userProfiles, setUserProfiles] = useState([]);\n\n  const fecthUserProfiles = () => {\n    axios.get(\"http://localhost:8080/api/v1/user-profile\").then(res => {\n      console.log(res);\n      setUserProfiles(res.data);\n    });\n  };\n\n  useEffect(() => {\n    fecthUserProfiles();\n  }, []);\n\n  return userProfiles.map((userProfile, index) => {\n    return (\n      <div key={index}>\n        { /* todo: profile image */}\n        <br />\n        <br />\n        <h1>{userProfile.name}</h1>\n        <p>{userProfile.id}</p>\n        <Dropzone userProfileId={userProfile.id} />\n        <br />\n      </div>\n    )\n  });\n};\n\nfunction Dropzone({ userProfileId }) {\n  const onDrop = useCallback(acceptedFiles => {\n    const file = acceptedFiles[0];\n    console.log(file);\n    console.log(userProfileId);\n\n    const formData = new FormData();\n    formData.append(\"file\", file);\n\n    axios.post(\n      `http://localhost:8080/api/v1/user-profile/${userProfileId}/image/upload`, \n      formData, \n      { \n        headers: { \n          \"Content-Type\": \"multipart/form-data\" \n        } \n      }).then(() => {\n        console.log('file uploaded successfully');\n      }).catch(error => {\n        console.error(error);\n      });\n  }, []);\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop });\n\n  return (\n    <div {...getRootProps()}>\n      <input {...getInputProps()} />\n      {\n        isDragActive ?\n          <p>Drop the image here...</p> :\n          <p>Drag 'n' drop profile image, or click to select profile image</p>\n      }\n    </div>\n  )\n}\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <UserProfiles />\n    </div>\n  );\n}\n\nexport default App;\n","/home/regis/Codes/java-projects/aws-image-upload/frontend/src/reportWebVitals.js",[],{"ruleId":"19","replacedBy":"20"},{"ruleId":"21","replacedBy":"22"},{"ruleId":"23","severity":1,"message":"24","line":57,"column":6,"nodeType":"25","endLine":57,"endColumn":8,"suggestions":"26"},"no-native-reassign",["27"],"no-negated-in-lhs",["28"],"react-hooks/exhaustive-deps","React Hook useCallback has a missing dependency: 'userProfileId'. Either include it or remove the dependency array.","ArrayExpression",["29"],"no-global-assign","no-unsafe-negation",{"desc":"30","fix":"31"},"Update the dependencies array to be: [userProfileId]",{"range":"32","text":"33"},[1401,1403],"[userProfileId]"]